{% extends 'cibling_web/base_temp.html' %}
{% load static %}
{% block sidebar_right %}

{% endblock sidebar_right %}

{% block sidebar_left %}
{% endblock sidebar_left %}
{% block page_content %}

    {% verbatim %}
    <div id="app">


        <div v-if="searching">
            <square color="#c112c4"></square>

        </div>


        <div class="row">
            <div class="col-sm-3">
                <div class="form-group">
                    <label>Country*</label>
                    <v-select :options="countries" v-model="country" label="country" placeholder="Select Country">
                    </v-select>
                    <small class="form-text text-muted"></small>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label>Institute*</label>
                    <v-select :options="institutes" placeholder="Select Institute" label="institute"
                              v-model="institute">
                    </v-select>
                    <small class="form-text text-muted">Select country first</small>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label>Subject*</label>
                    <v-select :options="subjects" placeholder="Select Subject" v-model="subject" label="subject">
                    </v-select>
                    <small class="form-text text-muted"></small>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label>Expertise*</label>
                    <v-select :options="expertises" placeholder="Select Expertise" v-model="expertise"
                              label="expertise">
                    </v-select>
                    <small class="form-text text-muted"></small>
                </div>
            </div>
        </div>

        <div class="text-center">
            <button class="btn btn-primary" @click="search">Filter</button>
        </div>
        <br>
        <br>
        <br>


        <div v-if="ciblings.length == 0" style="padding-bottom: 30%" class="text-center">
            <h3>
                {{ message }}
            </h3>

        </div>


        <div class="row">


            <div v-for="cibling in ciblings" class="col-sm-3">


                <div class="card-info text-center" style="width: 25rem;">
                    <a :href="cibling.user.profile_url">
                        <img :src="cibling.image" :alt="cibling.user.first_name" class="profile-photo-lg">
                    </a>
                    <div class="Cibling-info">
                        <h5><a :href="cibling.user.profile_url" class="profile-link">{{ cibling.user.first_name }} {{
                            cibling.user.last_name }}</a></h5>
                        <p v-if="cibling.institute">{{ cibling.institute.institute }}</p>
                        <p v-else>N/A</p>

                    </div>

                </div>
            </div>

        </div>

    </div>
    {% endverbatim %}

{% endblock page_content %}

{% block head %}
    <link rel="stylesheet" href="https://unpkg.com/vue-select@3.0.0/dist/vue-select.css">
    <script src="https://unpkg.com/vue-select@3.0.0"></script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/lodash@latest/lodash.min.js"></script>
    <script src="https://unpkg.com/vue-spinners@1.0.0/dist/vue-spinners.browser.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/vue"></script>

{% endblock head %}


{% block script %}

    <script src="{% static "custom/js/filter_cibling.js" %}"></script>

{% endblock script %}